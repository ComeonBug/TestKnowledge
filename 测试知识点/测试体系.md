# 性能测试

## 项目什么时候做性能测试

功能测试 侧重于 【可不可用】

性能测试 侧重于 【好不好用】

所以，一个项目什么时候考虑做性能测试呢？开始考虑它好不好用的时候



# 测试监控

监控：**监**督 + **控**制

监控分类：定期监控、阶段性监控、事件触发型监控

监控目标：进度监控、管理风险、解决问题、加强协同

监控对象：质量风险、缺陷、测试进度、覆盖率、信心

监控落地：每日构建、CICD（冒烟自动化、验收自动化）、日报周报中的一些聚合图（用例执行百分比、bug数据、bug收敛分析）、接口自动化覆盖率、功能测试case覆盖率、回归自动化、监控测试人力情况（测开比、已上线需求量、用例量、bug量、团队贡献、自动化量、自动化效果、线上bug数、发布版本数、）





# 项目过程中遇到过什么样的风险，以及你是如何发现并规避它的？

风险遇到很多，基本上每个迭代、每个大型项目都会遇到，这些风险可以总结为几种类型：

一种类型：质量问题：

​	比如提测质量差、比如bug修复周期长、比如P0级别bug open时间太长、bug反复被open、临近上线出现P0级别bug、测试进度落后等等的问题

针对每个问题，提出对应的解决方案

​	提测质量差：加入冒烟测试、前置功能demo会、反思用例评审环节是否有效、总结经验提测时候重点关注、加入CI流程，提测差就打回，制定测试准入标准

​	bug修复周期长：增加bug review环节、晨会挨个过一遍高优先级bug、测试日报中体现高优先级bug及其影响、引入测试leader、研发leader、pm、po推动问题

​	bug反复被open：bug验证的case交给研发、引入研发leader关注问题、该功能的case加入冒烟测试case中（冒烟不过直接视为bug未修复）、多次开启的bug提高优先级

​	临近线上出现高优先级bug：首先分析为什么出现，原因很重要，是因为测试前面没有测到这个功能，现在测到了才出现，那就按照正常节奏进行测试并推进bug优先解决，后面需要测试进行复盘，为什么P0级别的功能后面才开始测，这种可能引起P0bug的功能也是P0 or P1级别的功能，在最初提测后进行的冒烟测试应该已经覆盖的；如果是前面已经测过了没有问题后面复测出现了新的高优先级的bug，需要拉入研发一起复盘，是否时研发的什么改动影响了其他功能，如果是则需要重新评估测试的范围

​	测试进度落后：首先要分析为什么落后了，是上述的研发的问题还是测试本身的问题，研发的问题就按照上面的操作进行即可；测试的问题就具体分析，为什么测试进度落后？是最初的评估和实际有gap？研发修复bug影响到测试进度？对接方没有准备好拖后我方进度？人员有请假？测试人员进展落后？如果是评估的问题的话，如果在可以处理的范围内，则通过增加人力、加班来保障当前版本的上线，如果是不在可承受范围内，需要尽早抛出风险给到项目侧，说明原因为哪里的评估有gap导致的，是为什么后期工作量变大（这里按照逻辑来讲， 如果用例评审起了效果的话，不会存在理解上的gap，所以推测发生gap的原因为：修复bug的时间太长导致）评估是延迟上线时间还是砍需求；如果是研发问题导致的延后，需要push研发侧，以及同步原因和风险到项目，分析出有多少人天的gap，确认现阶段测试是否能cover，不能的话就提出，说明原因为研发侧质量问题导致，



一种类型：人力问题

​	比如：项目时间紧张，团队人力紧张

​	要么补人，要么延期上线、要么砍需求、要么加班



一种类型：合作问题

​	比如：引入PM，协调时间，协调后的时间在进行二次评估，如果时间不足，参考上面一条的处理



# 测试环境如何部署

分为首次部署和日常版本部署，附加回滚

注意：首次部署时需要部署secret、中间件部署，以及需要将中间件配置的地址、用户名密码等补充到部署yaml文件中

比如cms的测试过程中，我在新环境中需要做的事情：

1.创建ns、secret、configmap

2.创建pg数据库和表

3.创建redis数据库

4.新建各个服务应用（deployment类型，现在变为的ingress类型）



如果是日常版本：

1、diomand上直接修改images即可

2、集群上直接apply｜edit  yaml的image即可



日常版本回滚

1、diomand回滚对应版本

2、直接apply｜edit为老的iamge即可



# 如何搭建测试体系

测试流程的搭建：版本测试流程（提测、测试、发布、线上验证、hotfix等）、自动化流程、CICD流程

测试产出物的规范

测试人员管理规范



**通过技术手段来分析和把控技术风险, 保障项目稳定高效推进和迭代**

**在稳定性和业务方向的质量体系规划和建设实施**

**较强的技术方案设计和实施能力, 有解决业务团队质量问题的作品**



1、梳理整个项目迭代流程

2、明确其中的测试环节，明确每个测试环境，测试同学的输入和输出是什么，每个环节involve的人是谁，每个阶段的标准是什么样的，是否可以自动化

3、用例如何管理

4、测试文档如何管理

5、测试人力管理

6、自动化的落地

7、CICD的落地

8、线上bug的分析、追踪、逐步减少

9、测试反推研发质量

10、测试人员技能提升、技术分享

11、高可用性测试

12、混沌工程





# 提测环节

1、谁合并代码？

​	——测试环境就测试合并，环境Owner来操作

2、准入条件：

​	1）研发自测

​	2）提交代码过程中，CI流程中应该加入测试环节，CI通过后的分支才能提测（这里可以通过jenkins触发接口自动化）

​	3）提交代码完成后，还可以加入触发UI自动化的构建，自动化通过

3、提测文档：

​	1）代码分支

​	2）该分支自动化执行情况

​	3）研发自测情况：case是什么，结果是什么

​	4）提测的需求范围

​	5）本次研发的修改范围、影响范围

​	6）安装服务插件等的说明和命令

​	7）其他依赖项，如secret的配置、topic的配置、数据库的创建等说明



# 测试准出的标准

覆盖率标准：

1、测试执行率是否达标 ——100%

2、遗留bug率是否达标，case by case，不可有P0级别bug遗留

3、需求覆盖率是否达标 ——100%

4、所有抛出的风险解决率 ——100%

产出物标准：

1、整体测试报告

2、单模块测试报告

3、case执行报告

4、性能测试报告（可选）

5、质量评估报告（可选）

6、用户手册（可选）





