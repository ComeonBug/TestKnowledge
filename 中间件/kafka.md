## 概述

消息订阅的方式

关键概念：消息、生产者、消费者、主题（topic）、分区（Partition）

## 消息、消费者、生产者

消息：就是一条数据

生产者：发布消息的【人｜程序】

消费者：读取（订阅）消息的【人｜程序】

主题（topic）：消息的标识字段

分区（partition）：

一个topic中可能含有多个partition，partition可以分布在不同的服务器上，这样topic就相当于分布在不同的服务器上了

键：一个标记，每个消息都对应一个标记，一个键

分区器：一个算法，用来处理消息发送到哪里

一条消息包含：topic、partition、键、分区器

偏移量（offset）：第几个消息，每个消息的偏移量是唯一的。消费者根据这个偏移量来读取数据，消费者只能按顺序读取

kafka服务器broker：包含多个topic，每个topic又含有多个partition，多个broker组成来kafka集群（复制）



疑问1:消费者如何拿到自己想要的消息？——topic

生产者把消息发给kafka的时候需要标记好消息的topic

消费者只需要获取对应的topic的消息就行

疑问2:生产者怎么知道消息发送到哪个partition呢？

​	1.生产者指定了分区

​	2.生产者没有指定分区，键和分区器起作用，分区器根据键来决定消息的去处



